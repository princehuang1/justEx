import React, { useState, useEffect } from 'react';
import Navbar from '../components/Navbar';

// ğŸ¯ é€™æ˜¯å•†åŸé é¢çš„ç¯©é¸é¡åˆ¥
const storeCategories = [
    { label: 'éŠæˆ²å•†åŸ', status: 'Game' },
    { label: 'é›»å½±å‘¨é‚Š', status: 'Merchandise' },
    { label: 'é¤é£²', status: 'Concession' },
];

// ----------------------------------------------------------------------
// ğŸ¯ ä¿®æ­£å¾Œï¼šéŠæˆ²å‡è³‡æ–™ (10å€‹ï¼Œåœ–ç‰‡çš†ä½¿ç”¨å°é¦¬æˆ°é¬¼.avif)
// ----------------------------------------------------------------------
const mockItems = [
    // éŠæˆ²å•†åŸ (10å€‹)
    { id: 1, name: 'å°é¦¬æˆ°é¬¼', category: 'Game', price: 1500, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 2, name: 'åœ°å¹³ç·šï¼šè¥¿åŸŸç¦åœ°', category: 'Game', price: 1790, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 3, name: 'æ¼«å¨èœ˜è››äººï¼šé‚çˆ¾æ–¯æ‘©æ‹‰æ–¯', category: 'Game', price: 1390, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 4, name: 'æƒ¡é­”éˆé­‚', category: 'Game', price: 1690, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 5, name: 'è¢‹ç‹¼å¤§é€²æ“Š', category: 'Game', price: 990, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 6, name: 'ç§˜å¢ƒæ¢éšªï¼šç›œè³Šå‚³å¥‡', category: 'Game', price: 1190, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 7, name: 'æ­»äº¡å›æ­¸', category: 'Game', price: 1490, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 8, name: 'æœ€å¾Œç”Ÿé‚„è€… äºŒéƒ¨æ›²', category: 'Game', price: 1090, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 9, name: 'å°é¦¬æˆ°é¬¼ å°æ¼”å‰ªè¼¯ç‰ˆ', category: 'Game', price: 1890, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },
    { id: 10, name: 'æˆ°ç¥ï¼šè«¸ç¥é»ƒæ˜', category: 'Game', price: 1990, image: '/posters/å°é¦¬æˆ°é¬¼.avif' },

    // é›»å½±å‘¨é‚Š (å‡è³‡æ–™ï¼Œç‚ºäº†ç¯„ä¾‹ä¸ç©ºç™½)
    { id: 11, name: 'æ²™ä¸˜ï¼šå¼—é›·æ›¼æˆ°æœ', category: 'Merchandise', price: 999, image: '/posters/Dune_uniform.jpg' },
    { id: 12, name: 'éˆé‹¸äººç«‹ç‰Œçµ„', category: 'Merchandise', price: 450, image: '/posters/Chainsaw_stand.jpg' },

    // é¤é£² (å‡è³‡æ–™ï¼Œç‚ºäº†ç¯„ä¾‹ä¸ç©ºç™½)
    { id: 13, name: 'è±ªè¯å¥—é¤å…Œæ›åˆ¸', category: 'Concession', price: 500, image: '/posters/è±ªè¯å¥—é¤.jpg' },
    { id: 14, name: 'åŸºæœ¬å¥—é¤å…Œæ›åˆ¸', category: 'Concession', price: 220, image: '/posters/åŸºæœ¬å¥—é¤.jpg' },
];

// éŠæˆ²å•†åŸä½¿ç”¨çš„å¡ç‰‡çµ„ä»¶ï¼Œç§»é™¤è³¼è²·æŒ‰éˆ•ï¼Œåƒ…é¡¯ç¤ºåœ–ç‰‡å’Œåç¨±
const GameItemCard = ({ item }) => (
  <div className="bg-neutral-800 rounded-xl overflow-hidden shadow-xl hover:shadow-purple-500/30 transition-all duration-300 transform hover:-translate-y-1">
    <img
      src={item.image || 'https://via.placeholder.com/400x600?text=Item+Image'}
      alt={item.name}
      className="w-full aspect-video object-cover" // ğŸ¯ èª¿æ•´ç‚ºæ©«å‘æ¯”ä¾‹
    />
    <div className="p-4 text-center"> {/* ğŸ¯ æ–‡å­—ç½®ä¸­ */}
      <h3 className="text-white text-lg font-bold truncate">{item.name}</h3> {/* ğŸ¯ å­—é«”å¤§å°èª¿æ•´ */}
    </div>
  </div>
);


function StorePage() {
  const [activeFilter, setActiveFilter] = useState(storeCategories[0].status); // é è¨­ç‚ºéŠæˆ²å•†åŸ
  const [filteredItems, setFilteredItems] = useState([]);
  
  // æ¨¡æ“¬éæ¿¾é‚è¼¯
  useEffect(() => {
    const filterData = mockItems.filter(item => item.category === activeFilter);
    setFilteredItems(filterData);
  }, [activeFilter]);


  const FilterButton = ({ label, status }) => (
    <button
      onClick={() => setActiveFilter(status)}
      className={`py-2 px-6 rounded-full font-semibold transition-colors duration-300
        ${activeFilter === status
          ? 'bg-purple-600 text-white' // é¸ä¸­æ™‚
          : 'bg-neutral-700 text-gray-300 hover:bg-neutral-600' // æœªé¸ä¸­
        }
      `}
    >
      {label}
    </button>
  );

  return (
    <div className="min-h-screen bg-neutral-900 text-gray-100 font-sans">
      <Navbar />
      
      <main className="container mx-auto px-20 py-8"> 
        
        {/* 1. æ¨™é¡Œ */}
        <h1 className="text-4xl font-bold text-white mb-8">å•†åŸ</h1>

        {/* 2. ç¯©é¸å™¨ (Tabs) */}
        <div className="flex space-x-4 mb-10">
          {storeCategories.map(cat => (
              <FilterButton key={cat.status} label={cat.label} status={cat.status} />
          ))}
        </div>

        {/* 3. å•†å“åˆ—è¡¨ç¶²æ ¼ - ğŸ¯ èª¿æ•´ç‚º 2åˆ—5æ¬„ä½ˆå±€ */}
        <div className="grid grid-cols-5 gap-8"> {/* ğŸ¯ grid-cols-5 */}
          {filteredItems.length > 0 ? (
            filteredItems.map((item) => (
              <GameItemCard key={item.id} item={item} /> // ğŸ¯ ä½¿ç”¨ GameItemCard
            ))
          ) : (
            <p className="col-span-full text-gray-400 text-center">æ­¤åˆ†é¡æš«ç„¡å•†å“ã€‚</p>
          )}
        </div>
      </main>
    </div>
  );
}

export default StorePage;